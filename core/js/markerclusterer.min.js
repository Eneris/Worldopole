/*


 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var e;
function f(a,c,b){this.extend(f,google.maps.OverlayView);this.c=a;this.a=[];this.l=[];this.o={};this.I=1;this.sizes=[53,56,66,78,90];this.u=[];this.F="";this.X="cluster";this.R=0;this.J=!1;b=b||{};this.m=void 0!==b.gridSize?b.gridSize:60;this.s=b.minimumClusterSize||2;this.aa=b.ignoreHiddenMarkers||!1;this.ba=b.maxZoom||null;this.u=b.styles||[];this.F=b.cssClass||null;this.N=b.imagePath||this.ka;this.ra=b.imageExtension||this.ja;this.ia=!0;void 0!=b.zoomOnClick&&(this.ia=b.zoomOnClick);this.D=!1;
void 0!=b.averageCenter&&(this.D=b.averageCenter);this.da=b.onMouseoverCluster;this.ca=b.onMouseoutCluster;k(this);this.setMap(a);this.ea=this.c.getZoom();var d=this;google.maps.event.addListener(this.c,"zoom_changed",function(){var a=d.c.getZoom();d.ea!=a&&(d.ea=a,d.K(!1))});google.maps.event.addListener(this.c,"idle",function(){d.O()});c&&c.length&&this.T(c,!1)}e=f.prototype;e.ka="https://raw.githubusercontent.com/gmaps-marker-clusterer/gmaps-marker-clusterer/master/images/m";e.ja="png";
e.extend=function(a,c){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[c])};e.onAdd=function(){this.J||(this.J=!0,m(this,this.a))};e.draw=function(){};function k(a){if(!a.u.length)for(var c=0,b;b=a.sizes[c];c++){var d="function"===typeof a.N?a.N(c,b):a.N+(c+1)+"."+a.ra;a.u.push({url:d,height:b,width:b})}}e.ma=function(){for(var a=this.A(),c=new google.maps.LatLngBounds,b=0,d;d=a[b];b++)c.extend(d.getPosition());this.c.fitBounds(c)};e.M=function(){return this.u};
e.A=function(){return this.a};e.qa=function(){return this.a.length};e.va=function(a){this.ba=a};e.$=function(){return this.ba};e.na=function(a){return this.l[this.o[a.uniqueID]]};e.W=function(a,c){for(var b=0,d=a.length,g=d;0!==g;)g=parseInt(g/10,10),b++;b=Math.min(b,c);return{text:d,index:b}};e.ta=function(a){this.W=a};e.Y=function(){return this.W};e.T=function(a,c){for(var b=0,d;d=a[b];b++)p(this,d);c||m(this,a)};
function p(a,c){c.v=!1;c.draggable&&google.maps.event.addListener(c,"dragend",function(){c.v=!1;a.fa()});c.uniqueID=a.I;a.I++;a.a.push(c)}e.C=function(a,c){p(this,a);if(!c&&this.J){var b=new google.maps.LatLngBounds(this.c.getBounds().getSouthWest(),this.c.getBounds().getNorthEast()),b=this.G(b);a.v||!u(a,b)||this.aa&&!a.getVisible()||v(this,a)}};
function w(a,c){var b=-1;if(a.a.indexOf)b=a.a.indexOf(c);else for(var d=0,g;g=a.a[d];d++)if(g==c){b=d;break}if(-1==b)return!1;c.setMap(null);a.a.splice(b,1);a.o[c.uniqueID]&&a.l[a.o[c.uniqueID]].P(c);delete a.o[c.uniqueID];return!0}e.P=function(a){return w(this,a)};e.sa=function(a){for(var c=!1,b=a.length;0<=b;b--)var d=w(this,a[b]),c=c||d;return c};e.pa=function(){return this.l.length};e.getMap=function(){return this.c};e.setMap=function(a){this.c=a};e.Z=function(){return this.m};
e.ua=function(a){this.m=a};e.G=function(a){var c=this.getProjection(),b=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),b=c.fromLatLngToDivPixel(b);b.x+=this.m;b.y-=this.m;d=c.fromLatLngToDivPixel(d);d.x-=this.m;d.y+=this.m;b=c.fromDivPixelToLatLng(b);c=c.fromDivPixelToLatLng(d);a.extend(b);a.extend(c);return a};
function u(a,c){var b=a.getPosition(),d=c.getNorthEast(),g=c.getSouthWest();return g.lat()<=b.lat()&&b.lat()<=d.lat()&&g.lng()<=b.lng()&&b.lng()<=d.lng()}e.la=function(){this.K(!0);this.a=[];this.o={};this.I=1};e.K=function(a){var c=this.l.slice();window.setTimeout(function(){for(var a=0,b;b=c[a];a++)b.remove()},0);for(var b=0,d;d=this.a[b];b++)d.v=!1,a&&d.setMap(null);this.l=[];this.o={};this.I=1};e.fa=function(){this.l.length=0;this.K(!1);this.O()};e.O=function(){m(this,this.a)};
function v(a,c){for(var b,d=4E4,g=null,q=null,r=0;b=a.l[r];r++){var h=b.getCenter();if(h){var l=h,t=c.getPosition();if(l&&t)var h=t.lat()*Math.PI/180,z=l.lat()*Math.PI/180,n=.5*(z-h),l=(t.lng()-l.lng())*Math.PI/180*.5,n=Math.sin(n),l=Math.sin(l),h=12742*Math.asin(Math.sqrt(n*n+Math.cos(h)*Math.cos(z)*l*l));else h=0;h<d&&(d=h,g=b,q=r)}}g&&g.V.contains(c.getPosition())?g.C(c):(b=new x(a),b.C(c),a.l.push(b),q=a.l.length-1);c.v&&(a.o[c.uniqueID]=q)}
function m(a,c){if(a.J)for(var b=new google.maps.LatLngBounds(a.c.getBounds().getSouthWest(),a.c.getBounds().getNorthEast()),b=a.G(b),d=0;d<c.length;d++)marker=c[d],marker.v||!u(marker,b)||a.aa&&!marker.getVisible()||v(a,marker)}function x(a){this.h=a;this.c=a.getMap();this.m=a.Z();this.s=a.s;this.D=a.D;this.f=null;this.a=[];this.V=null;this.w=new y(this,a.M())}function A(a,c){if(a.a.indexOf)return a.a.indexOf(c);for(var b=0,d;d=a.a[b];b++)if(d==c)return b;return-1}e=x.prototype;
e.C=function(a){if(-1!=A(this,a))return!1;if(!this.f)this.f=a.getPosition(),B(this);else if(this.D){var c=this.a.length+1,b=(this.f.lat()*(c-1)+a.getPosition().lat())/c,c=(this.f.lng()*(c-1)+a.getPosition().lng())/c;this.f=new google.maps.LatLng(b,c);B(this)}a.v=!0;this.a.push(a);b=this.a.length;b<this.s&&a.getMap()!=this.c&&a.setMap(this.c);if(b==this.s)for(c=0;c<b;c++)this.a[c].setMap(null);b>=this.s&&a.setMap(null);C(this);return!0};
e.P=function(a){a=A(this,a);if(-1===a)return!1;this.a.splice(a,1);a=this.a.length;if(a<this.s)for(var c=0;c<a;c++)this.a[c].setMap(this.c);C(this);return!0};e.getBounds=function(){for(var a=new google.maps.LatLngBounds(this.f,this.f),c=this.A(),b=0,d;d=c[b];b++)a.extend(d.getPosition());return a};e.remove=function(){this.w.remove();this.a.length=0;delete this.a};e.oa=function(){return this.a.length};e.A=function(){return this.a};e.getCenter=function(){return this.f};
function B(a){var c=new google.maps.LatLngBounds(a.f,a.f);a.V=a.h.G(c)}e.getMap=function(){return this.c};
function C(a){var c=a.c.getZoom(),b=a.h.$();if(b&&c>b)for(c=0;b=a.a[c];c++)b.setMap(a.c);else if(a.a.length<a.s)D(a.w);else{b=a.h.Y()(a.a,a.h.M().length);a.w.setCenter(a.f);c=a.w;c.S=b;c.b&&(c.b.innerHTML=b.text);var b=Math.max(0,c.S.index-1),b=Math.min(c.u.length-1,b),d=c.u[b];c.wa=d.url;c.j=d.height;c.B=d.width;c.ga=d.textColor;c.g=d.anchor;c.ha=d.textSize;c.U=d.backgroundPosition;c.H=d.iconAnchor;c.R=b;a.w.show()}}
function y(a,c){a.h.extend(y,google.maps.OverlayView);this.u=c;this.i=a;this.f=null;this.c=a.getMap();this.S=this.b=null;this.L=!1;this.setMap(this.c)}e=y.prototype;
e.onAdd=function(){if(this.L){this.b=document.createElement("DIV");var a=E(this,this.f);this.b.style.cssText=F(this,a);this.b.innerHTML=this.S.text;a=this.i.h;this.b.className=a.F?a.F+" "+a.X+this.R:a.X+this.R;this.getPanes().overlayMouseTarget.appendChild(this.b);var c=this,b=!1,d=!1;google.maps.event.addDomListener(this.b,"click",function(a){if(!b){var d=c.i.h;google.maps.event.trigger(d,"clusterclick",c.i,a);d.ia&&c.c.fitBounds(c.i.getBounds())}});google.maps.event.addDomListener(this.b,"mousedown",
function(){b=!1;d=!0});google.maps.event.addDomListener(this.b,"mouseup",function(){d=b=!1});google.maps.event.addDomListener(this.b,"mousemove",function(){d&&(b=!0)});google.maps.event.addDomListener(this.b,"mouseover",function(a){google.maps.event.trigger(c.i.h,"clustermouseover",c.i,a);"function"===typeof c.i.h.da&&c.i.h.da(c,a)});google.maps.event.addDomListener(this.b,"mouseout",function(a){google.maps.event.trigger(c.i.h,"clustermouseout",c.i,a);"function"===typeof c.i.h.ca&&c.i.h.ca(c,a)})}};
function E(a,c){var b=a.getProjection().fromLatLngToDivPixel(c);"object"===typeof a.H&&2===a.H.length?(b.x-=a.H[0],b.y-=a.H[1]):(b.x-=parseInt(a.B/2,10),b.y-=parseInt(a.j/2,10));return b}e.draw=function(){if(this.L){var a=E(this,this.f);this.b&&(this.b.style.top=a.y+"px",this.b.style.left=a.x+"px")}};function D(a){a.b&&(a.b.style.display="none");a.L=!1}e.show=function(){if(this.b){var a=E(this,this.f);this.b.style.cssText=F(this,a);this.b.style.display=""}this.L=!0};e.remove=function(){this.setMap(null)};
e.onRemove=function(){this.b&&this.b.parentNode&&(D(this),this.b.parentNode.removeChild(this.b),this.b=null)};e.setCenter=function(a){this.f=a};
function F(a,c){var b=[];a.i.h.F?b.push("top:"+c.y+"px; left:"+c.x+"px;"):(b.push("background-image:url("+a.wa+");"),b.push("background-position:"+(a.U?a.U:"0 0")+";"),"object"===typeof a.g?("number"===typeof a.g[0]&&0<a.g[0]&&a.g[0]<a.j?b.push("height:"+(a.j-a.g[0])+"px; padding-top:"+a.g[0]+"px;"):"number"===typeof a.g[0]&&0>a.g[0]&&-a.g[0]<a.j?b.push("height:"+a.j+"px; line-height:"+(a.j+a.g[0])+"px;"):b.push("height:"+a.j+"px; line-height:"+a.j+"px;"),"number"===typeof a.g[1]&&0<a.g[1]&&a.g[1]<
a.B?b.push("width:"+(a.B-a.g[1])+"px; padding-left:"+a.g[1]+"px;"):b.push("width:"+a.B+"px; text-align:center;")):b.push("height:"+a.j+"px; line-height:"+a.j+"px; width:"+a.B+"px; text-align:center;"),b.push("cursor:pointer; top:"+c.y+"px; left:"+c.x+"px; color:"+(a.ga?a.ga:"black")+"; position:absolute; font-size:"+(a.ha?a.ha:11)+"px; font-family:Arial,sans-serif; font-weight:bold"));return b.join("")}window.MarkerClusterer=f;f.prototype.addMarker=f.prototype.C;f.prototype.addMarkers=f.prototype.T;
f.prototype.clearMarkers=f.prototype.la;f.prototype.fitMapToMarkers=f.prototype.ma;f.prototype.getCalculator=f.prototype.Y;f.prototype.getGridSize=f.prototype.Z;f.prototype.getExtendedBounds=f.prototype.G;f.prototype.getMap=f.prototype.getMap;f.prototype.getMarkers=f.prototype.A;f.prototype.getMaxZoom=f.prototype.$;f.prototype.getMarkersCluster=f.prototype.na;f.prototype.getStyles=f.prototype.M;f.prototype.getTotalClusters=f.prototype.pa;f.prototype.getTotalMarkers=f.prototype.qa;
f.prototype.redraw=f.prototype.O;f.prototype.removeMarker=f.prototype.P;f.prototype.removeMarkers=f.prototype.sa;f.prototype.resetViewport=f.prototype.K;f.prototype.repaint=f.prototype.fa;f.prototype.setCalculator=f.prototype.ta;f.prototype.setGridSize=f.prototype.ua;f.prototype.setMaxZoom=f.prototype.va;f.prototype.onAdd=f.prototype.onAdd;f.prototype.draw=f.prototype.draw;x.prototype.getCenter=x.prototype.getCenter;x.prototype.getSize=x.prototype.oa;x.prototype.getMarkers=x.prototype.A;
y.prototype.onAdd=y.prototype.onAdd;y.prototype.draw=y.prototype.draw;y.prototype.onRemove=y.prototype.onRemove;